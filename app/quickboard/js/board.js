const a0_0x22bb5d=a0_0x47d0;(function(_0x1d5575,_0x51c753){const a0_0x4616da={_0x352813:0x1ab,_0x5524ee:0x171,_0x5879ee:0x14c,_0xbf3a31:0x15e,_0x49b924:0x1bb,_0x361a6e:0x196},_0x1b5fbb=a0_0x47d0,_0x5a81bf=_0x1d5575();while(!![]){try{const _0x466231=-parseInt(_0x1b5fbb(a0_0x4616da._0x352813))/0x1*(-parseInt(_0x1b5fbb(a0_0x4616da._0x5524ee))/0x2)+parseInt(_0x1b5fbb(a0_0x4616da._0x5879ee))/0x3+parseInt(_0x1b5fbb(0x191))/0x4+-parseInt(_0x1b5fbb(a0_0x4616da._0xbf3a31))/0x5*(parseInt(_0x1b5fbb(0x176))/0x6)+parseInt(_0x1b5fbb(a0_0x4616da._0x49b924))/0x7+-parseInt(_0x1b5fbb(0x138))/0x8+-parseInt(_0x1b5fbb(a0_0x4616da._0x361a6e))/0x9*(-parseInt(_0x1b5fbb(0x1e3))/0xa);if(_0x466231===_0x51c753)break;else _0x5a81bf['push'](_0x5a81bf['shift']());}catch(_0x585d7f){_0x5a81bf['push'](_0x5a81bf['shift']());}}}(a0_0x1bda,0xd31ac));const STORAGE_KEY_LANG='QuickBoard_lang',STORAGE_KEY_VERTICAL=a0_0x22bb5d(0x1b6),STORAGE_KEY_USER_ORIENTATION='QuickBoard_orientation';let state={'players':[]};const field=document[a0_0x22bb5d(0x17a)](a0_0x22bb5d(0x1b5)),modal=document[a0_0x22bb5d(0x17a)](a0_0x22bb5d(0x1e2)),nameInput=document[a0_0x22bb5d(0x17a)]('m-name'),numInput=document[a0_0x22bb5d(0x17a)](a0_0x22bb5d(0x1da)),colorOpts=Array[a0_0x22bb5d(0x157)](document[a0_0x22bb5d(0x1bf)](a0_0x22bb5d(0x192))),saveBtn=document[a0_0x22bb5d(0x17a)](a0_0x22bb5d(0x1c7)),deleteBtn=document['getElementById'](a0_0x22bb5d(0x1a8)),cancelBtn=document[a0_0x22bb5d(0x17a)]('cancel-btn');let editId=null,newPos=null,dragTarget=null,offsetX=0x0,offsetY=0x0,pointerMoved=![],pressStart=0x0,lastTap=0x0,fieldLastTap=0x0;const shareBtn=document[a0_0x22bb5d(0x17a)]('share-btn'),presetBtn=document[a0_0x22bb5d(0x17a)](a0_0x22bb5d(0x170)),helpBtn=document[a0_0x22bb5d(0x17a)](a0_0x22bb5d(0x158)),rotateBtn=document[a0_0x22bb5d(0x17a)](a0_0x22bb5d(0x169)),langBtn=document[a0_0x22bb5d(0x17a)]('lang-btn'),langModal=document[a0_0x22bb5d(0x17a)](a0_0x22bb5d(0x1b4)),shareModal=document['getElementById'](a0_0x22bb5d(0x13a)),presetModal=document[a0_0x22bb5d(0x17a)](a0_0x22bb5d(0x1c8)),helpModal=document[a0_0x22bb5d(0x17a)](a0_0x22bb5d(0x1a3)),shareNativeBtn=document[a0_0x22bb5d(0x17a)]('share-native'),shareCopyBtn=document[a0_0x22bb5d(0x17a)]('share-copy'),shareTwitterBtn=document[a0_0x22bb5d(0x17a)](a0_0x22bb5d(0x14a)),shareFacebookBtn=document[a0_0x22bb5d(0x17a)](a0_0x22bb5d(0x153)),shareLineBtn=document['getElementById'](a0_0x22bb5d(0x179)),presetBtns=document[a0_0x22bb5d(0x1bf)]('#preset-modal\x20button[data-preset]');let translations={},currentLang='en';function detectLanguage(){const _0x323ee5=a0_0x22bb5d,_0x438d60=['en','ja','zh','es','it','pt','de'],_0x50a72e=localStorage[_0x323ee5(0x19b)](STORAGE_KEY_LANG);if(_0x50a72e&&_0x438d60[_0x323ee5(0x13d)](_0x50a72e))return _0x50a72e;const _0xbf44ab=navigator[_0x323ee5(0x159)][_0x323ee5(0x1d4)]('-')[0x0];return _0x438d60['includes'](_0xbf44ab)?_0xbf44ab:'en';}function a0_0x1bda(){const _0x3c3fd0=['CMvTB3zLrxzLBNrmAxn0zw5LCG','BgvUz3rO','D2LKDgG','zM9YrwfJAa','BgfUzW','uxvPy2TcB2fYza','zgLZCgXHEq','Cg9PBNrLCM1VDMu','CM90yxrLlwj0BG','zMLSDgvY','y2f0y2G','Dgv4DenVBNrLBNq','BwLU','u2HHCMvK','yxbWzw5Kq2HPBgq','ChjLC2v0lwj0BG','mKPtA1LwCW','z2v0qM91BMrPBMDdBgLLBNrszwn0','cInXDwLJA2jVyxjK','zgL2','zM9YBq','mtCXmdzRqNrut1y','Dhj1zq','zNvSBdG','C2HHCMuTBgLUzq','z2v0rwXLBwvUDej5swq','zNvSBdu','DMfSDwu','jNvYBd0','zM9JDxm','y29UDgv4Dg1LBNu','Dg9W','y3jLyxrLrwXLBwvUDa','x2jSyw5R','C3rVCfbYB3bHz2f0Aw9U','DgvHBw1HDguXmq','y29SB3i','Dg9gAxHLza','B3bWB25LBNq4','BMfTzq','y2fUy2vSywjSzq','C2v0sxrLBq','z3jLzw4','y2XPzw50wa','rMfPBgvKihrVigXVywqGC3rHDgu6','AgfZ','y2XHC3nmAxn0','sw52ywXPzcbJB21WCMvZC2vKigrHDge','mJi3odG2ngz5weP6AG','i21VzgfSic5JB2XVCI1VChrPB24','Dg91y2G','lNbPzwnL','zgjSy2XPy2S','our4vefTyG','lMHVCML6B250ywWTzMLLBgq','ChjLDMvUDerLzMf1Bhq','y2XPzw50wq','AgvPz2H0','z2v0sxrLBq','Cg9PBNrLCKLK','re9nq29UDgvUDeXVywrLza','zMXVB3i','A2v5zg93BG','z2v0','D3jPDgvuzxH0','Dg9Nz2XL','AgvSCc1TB2rHBa','CMvTB3zL','Ahr0Chm6lY9ZB2nPywWTCgX1z2LUCY5SAw5LlM1Ll2XPBMvPDc9ZAgfYzt91CMW9','C2HVDW','B3bWB25LBNq1','zgvSzxrLlwj0BG','CgfKu3rHCNq','y2XPy2S','nJKWmteWEwzwug5o','Bg9JyxrPB24','ChvZAa','zgf0ys1PmtHU','lNzLCNrPy2fSlwzPzwXK','CxvLCNLtzwXLy3rVCG','DMvYDgLJywW','DgL0Bgu','C3vIC3rY','BgfUzY1TB2rHBa','zMLLBgq','uxvPy2TcB2fYzf92zxj0AwnHBa','Dg9HC3qUy29WAwvK','CM91BMq','DgvHBw1HDgu1','CMvKDwnL','mZGZoduXm0HwEhvfyW','zxjYB3i','AgLZDg9YEq','DgvHBw1HDgu4','CxvLCNLtzwXLy3rVCKfSBa','y29UDgfPBNm','zgf0yxnLDa','yMX1zq','A2v5','ywrKrxzLBNrmAxn0zw5LCG','p3e9','y2XHC3noyw1L','C2f2zs1IDg4','ChjLC2v0lw1VzgfS','BwfW','rgvSzxrL','C2vHCMnOugfYyw1Z','rMfPBgvKihrVigXVywqGDhjHBNnSyxrPB25ZoG','zMLUzeLUzgv4','C2vSzwn0zwq','Bwf4','vvjmienVCgLLza','DgfYz2v0','Cg9PBNrLCLr5Cgu','zgf0ys1Syw5N','C3bSAxq','BM9Uzq','z2v0qxr0CMLIDxrL','ywrK','B3bLBG','y2XLyxi','Bs1UDw1Izxi','Dg91y2HLCW','BM93','CMvK','DgHLBG','mtaW','lNbPzwnLw2rHDgeTAwq9iG','B3bWB25LBNqXmq','Bw9KywW','mJGYnJq3meXYCLjTwG','Dg9HC3qUC2HHCMvK','Ahr0Chm6lY93D3CUzMfJzwjVB2SUy29Tl3nOyxjLCI9ZAgfYzxiUCgHWp3u9','Cg9PBNrLCMnHBMnLBa','CgXHEwvY','ANnVBG','ndaXotm2zKjxCNjO','y2XVC2vZDa','C2HHCMuTBw9KywW','AhjLzG','Dg9HC3q','Aw5JBhvKzxm','C2HHCMu','Cg9PBNrLCMrVD24','CgLLy2u','yMXVy2S','yMfSBa','w2LKjd0IBw9KywWIxq','CgXHEwvYCW','zgvSzxrL','Aw5KzxHpzG','BgvMDa','u2HHCMLUzYbMywLSzwq','CMvWBgfJzvn0yxrL','C2HHCMuTDhDPDhrLCG','BNvT','nJu0nJK5B2DtDhzM','y29Uy2f0','AgLKzgvU','EKLUzgv4','Aw5Uzxjive1m','Ahr0Chm6lY90D2L0DgvYlMnVBs9PBNrLBNqVDhDLzxq/Dgv4Dd0','C3vIC3rYAw5N','C2HHCMuTzMfJzwjVB2S','C2vHCMnO','zMLUza','C2v0ug9PBNrLCKnHChr1CMu','zNjVBq','AgvSCc1IDg4','BgfUz3vHz2u','Cg9PBNrLCNvW','C3r5Bgu','mc44','B3bHy2L0Eq','mJq0nuP2z2XzBa','ChjLC2v0','Dg9tDhjPBMC'];a0_0x1bda=function(){return _0x3c3fd0;};return a0_0x1bda();}async function loadTranslations(){const _0x46fc3d=a0_0x22bb5d;try{const _0x49be95=await fetch('js/languages.json');translations=await _0x49be95[_0x46fc3d(0x1e8)](),currentLang=detectLanguage(),applyTranslations();}catch(_0x4d14e3){console[_0x46fc3d(0x1bc)](_0x46fc3d(0x1cc),_0x4d14e3);}}function applyTranslations(){const a0_0x1b64ef={_0x87744a:0x164,_0x12b0d6:0x1bf,_0x93ba57:0x1b2},a0_0xd6285c={_0x3ca05d:0x1d6,_0x3457b1:0x1ae,_0x4c0051:0x16c},_0xdd982c=a0_0x22bb5d;document[_0xdd982c(0x1bf)]('[data-i18n]')[_0xdd982c(a0_0x1b64ef._0x87744a)](_0x37312b=>{const _0x2f90c6=_0xdd982c,_0x22e562=_0x37312b[_0x2f90c6(a0_0xd6285c._0x3ca05d)](_0x2f90c6(a0_0xd6285c._0x3457b1)),_0x58195e=getNestedTranslation(_0x22e562);if(_0x22e562==='help'){if(_0x58195e)_0x37312b['innerHTML']=_0x58195e;}else{if(_0x58195e)_0x37312b[_0x2f90c6(a0_0xd6285c._0x4c0051)]=_0x58195e;}}),document[_0xdd982c(a0_0x1b64ef._0x12b0d6)]('[data-i18n-placeholder]')['forEach'](_0x11bff2=>{const _0x3f5a21=_0x11bff2['getAttribute']('data-i18n-placeholder'),_0x519e45=getNestedTranslation(_0x3f5a21);if(_0x519e45)_0x11bff2['placeholder']=_0x519e45;}),document[_0xdd982c(0x1b2)]=translations[currentLang]?.[_0xdd982c(a0_0x1b64ef._0x93ba57)]||_0xdd982c(0x166);}function getNestedTranslation(_0x2f87a5){const a0_0x29b952={_0x1373e5:0x1d4},_0x591777=a0_0x22bb5d;return _0x2f87a5[_0x591777(a0_0x29b952._0x1373e5)]('.')[_0x591777(0x1ba)]((_0x284f34,_0xb18d95)=>_0x284f34&&_0x284f34[_0xb18d95],translations[currentLang]);}function setLanguage(_0x5f0cf3){const a0_0x1739e6={_0x1f70de:0x18a},_0x192b36=a0_0x22bb5d;translations[_0x5f0cf3]&&(currentLang=_0x5f0cf3,applyTranslations(),localStorage[_0x192b36(a0_0x1739e6._0x1f70de)](STORAGE_KEY_LANG,_0x5f0cf3));}function updateURL(){const a0_0x13dc60={_0x27abaa:0x1ac,_0x4eca43:0x1cb,_0x2a4345:0x1bd},_0x3912c1=a0_0x22bb5d,_0x5656c9=new URL(window[_0x3912c1(a0_0x13dc60._0x27abaa)]),_0xa69744=_0x5656c9['searchParams'][_0x3912c1(0x18e)]('q');if(!_0xa69744)return;_0x5656c9['searchParams'][_0x3912c1(0x18e)]('lang')&&_0x5656c9[_0x3912c1(a0_0x13dc60._0x4eca43)][_0x3912c1(0x145)](_0x3912c1(0x165)),window[_0x3912c1(a0_0x13dc60._0x2a4345)]['replaceState']({},'',_0x5656c9);}langBtn[a0_0x22bb5d(0x1c4)](a0_0x22bb5d(0x1aa),()=>{const _0x26a006=a0_0x22bb5d;langModal[_0x26a006(0x18f)]['remove']('hidden');}),document['querySelectorAll']('#lang-modal\x20button[data-lang]')[a0_0x22bb5d(0x164)](_0x4aa4f0=>{const a0_0x9a316f={_0x2c1992:0x1d3,_0x2649b8:0x18f,_0x4c621d:0x1d7},_0x1e5691=a0_0x22bb5d;_0x4aa4f0[_0x1e5691(0x1c4)](_0x1e5691(0x1aa),()=>{const _0x21fb95=_0x1e5691,_0xc2997b=_0x4aa4f0[_0x21fb95(0x1d6)](_0x21fb95(a0_0x9a316f._0x2c1992));setLanguage(_0xc2997b),langModal[_0x21fb95(a0_0x9a316f._0x2649b8)][_0x21fb95(a0_0x9a316f._0x4c621d)](_0x21fb95(0x14e));});}),document[a0_0x22bb5d(0x1c4)]('click',_0x35e4d5=>{}),document['addEventListener'](a0_0x22bb5d(0x19d),()=>{const a0_0xa68318={_0x3c586d:0x1e2},a0_0x147cfa={_0x41cc4e:0x1c4},a0_0x499836={_0x217ad6:0x143,_0x257893:0x18f,_0x6362c4:0x1d7,_0x4e39c5:0x14e,_0x205c38:0x1e2},_0x57c5a7=a0_0x22bb5d;loadTranslations(),document['querySelectorAll']('.close-btn')[_0x57c5a7(0x164)](_0x1ec194=>{const _0x369d8d=_0x57c5a7;_0x1ec194[_0x369d8d(a0_0x147cfa._0x41cc4e)](_0x369d8d(0x1aa),()=>{const _0x32ecaa=_0x369d8d,_0x216a24=_0x1ec194[_0x32ecaa(0x139)](_0x32ecaa(a0_0x499836._0x217ad6));_0x216a24&&(_0x216a24[_0x32ecaa(a0_0x499836._0x257893)][_0x32ecaa(a0_0x499836._0x6362c4)](_0x32ecaa(a0_0x499836._0x4e39c5)),_0x216a24['id']===_0x32ecaa(a0_0x499836._0x205c38)&&(editId=null,newPos=null));});}),document['querySelectorAll'](_0x57c5a7(0x143))[_0x57c5a7(0x164)](_0x43e793=>{const _0x3d0cbe=_0x57c5a7;_0x43e793[_0x3d0cbe(0x1c4)]('click',_0x452a90=>{const _0x1b4a78=_0x3d0cbe;_0x452a90[_0x1b4a78(0x1d1)]===_0x43e793&&(_0x43e793['classList']['add'](_0x1b4a78(0x14e)),_0x43e793['id']===_0x1b4a78(a0_0xa68318._0x3c586d)&&(editId=null,newPos=null));});}),initializeFieldOrientation(),loadState(),isVertical&&convertPlayerPositions();});let isVertical;localStorage['getItem'](STORAGE_KEY_VERTICAL)!==null?isVertical=localStorage['getItem'](STORAGE_KEY_VERTICAL)===a0_0x22bb5d(0x177):(isVertical=![],localStorage[a0_0x22bb5d(0x18a)](STORAGE_KEY_VERTICAL,isVertical));function defaultPlayers(){const a0_0x4a5184={_0x360f64:0x1c9,_0xdb94df:0x1c9,_0x44fe21:0x142,_0x5b5b68:0x1a7},_0x37cc75=a0_0x22bb5d,_0x357c3e=[{'num':0x1,'x':0xa,'y':0x32},{'num':0x2,'x':0x14,'y':0x14},{'num':0x3,'x':0x14,'y':0x28},{'num':0x4,'x':0x14,'y':0x3c},{'num':0x5,'x':0x14,'y':0x50},{'num':0x6,'x':0x1e,'y':0x14},{'num':0x7,'x':0x1e,'y':0x28},{'num':0x8,'x':0x1e,'y':0x3c},{'num':0x9,'x':0x1e,'y':0x50},{'num':0xa,'x':0x28,'y':0x23},{'num':0xb,'x':0x28,'y':0x41}]['map'](_0xb0a7d0=>({..._0xb0a7d0,'color':_0x37cc75(0x1c2)})),_0xb1fe2e=[{'num':0x1,'x':0x5a,'y':0x32},{'num':0x2,'x':0x50,'y':0x14},{'num':0x3,'x':0x50,'y':0x28},{'num':0x4,'x':0x50,'y':0x3c},{'num':0x5,'x':0x50,'y':0x50},{'num':0x6,'x':0x46,'y':0x14},{'num':0x7,'x':0x46,'y':0x28},{'num':0x8,'x':0x46,'y':0x3c},{'num':0x9,'x':0x46,'y':0x50},{'num':0xa,'x':0x3c,'y':0x23},{'num':0xb,'x':0x3c,'y':0x41}][_0x37cc75(a0_0x4a5184._0x360f64)](_0xa00d4a=>({..._0xa00d4a,'color':_0x37cc75(0x1dd)})),_0x33b821=[{'num':'','x':0xa,'y':0x32},{'num':'','x':0x14,'y':0x19},{'num':'','x':0x14,'y':0x32},{'num':'','x':0x14,'y':0x4b},{'num':'','x':0x1e,'y':0x32},{'num':'','x':0x23,'y':0x19},{'num':'','x':0x23,'y':0x4b},{'num':'','x':0x28,'y':0x32}][_0x37cc75(0x1c9)](_0x91dff0=>({..._0x91dff0,'color':'blue'})),_0x5edd9f=[{'num':'','x':0x5a,'y':0x32},{'num':'','x':0x50,'y':0x19},{'num':'','x':0x50,'y':0x32},{'num':'','x':0x50,'y':0x4b},{'num':'','x':0x46,'y':0x32},{'num':'','x':0x41,'y':0x19},{'num':'','x':0x41,'y':0x4b},{'num':'','x':0x3c,'y':0x32}][_0x37cc75(a0_0x4a5184._0xdb94df)](_0x4aaa52=>({..._0x4aaa52,'color':_0x37cc75(0x1dd)})),_0x5455e5=[{'num':'','x':0xa,'y':0x32},{'num':'','x':0x14,'y':0x32},{'num':'','x':0x1e,'y':0x19},{'num':'','x':0x1e,'y':0x4b},{'num':'','x':0x28,'y':0x32}][_0x37cc75(a0_0x4a5184._0xdb94df)](_0x3a3424=>({..._0x3a3424,'color':_0x37cc75(0x1c2)})),_0x5bc6a9=[{'num':'','x':0x5a,'y':0x32},{'num':'','x':0x50,'y':0x32},{'num':'','x':0x46,'y':0x19},{'num':'','x':0x46,'y':0x4b},{'num':'','x':0x3c,'y':0x32}]['map'](_0x23dc8c=>({..._0x23dc8c,'color':_0x37cc75(0x1dd)})),_0x24100c={'color':_0x37cc75(a0_0x4a5184._0x44fe21),'x':0x32,'y':0x32,'num':''};state[_0x37cc75(0x184)]=_0x357c3e,state[_0x37cc75(0x1e1)]=_0xb1fe2e,state['teammate8']=_0x33b821,state[_0x37cc75(0x187)]=_0x5edd9f,state['teammate5']=_0x5455e5,state[_0x37cc75(a0_0x4a5184._0x5b5b68)]=_0x5bc6a9;const _0x506690=_0x357c3e[_0x37cc75(0x14d)](_0xb1fe2e,[_0x24100c]);return _0x506690['map']((_0x37eefd,_0x445930)=>({..._0x37eefd,'id':(_0x445930+0x1)[_0x37cc75(0x160)]()}));}function selectColor(_0x36030b){const _0x24af0b=a0_0x22bb5d;colorOpts['forEach'](_0x549aad=>_0x549aad[_0x24af0b(0x18f)]['toggle'](_0x24af0b(0x1ce),_0x549aad['dataset'][_0x24af0b(0x185)]===_0x36030b));}colorOpts[a0_0x22bb5d(0x164)](_0x3e2bdf=>_0x3e2bdf[a0_0x22bb5d(0x1c4)](a0_0x22bb5d(0x1aa),()=>selectColor(_0x3e2bdf[a0_0x22bb5d(0x1c1)][a0_0x22bb5d(0x185)])));function openEdit(_0x38deb9){const a0_0x4763da={_0x45ade5:0x185,_0x31cc1e:0x15b,_0x35d160:0x17e},_0x246368=a0_0x22bb5d,_0x608641=state[_0x246368(0x144)]['find'](_0x446147=>_0x446147['id']==_0x38deb9);if(!_0x608641)return;editId=_0x38deb9,newPos=null,nameInput[_0x246368(0x17c)]=_0x608641[_0x246368(0x188)]||'',numInput[_0x246368(0x17c)]=_0x608641['num'],selectColor(_0x608641[_0x246368(a0_0x4763da._0x45ade5)]),deleteBtn[_0x246368(a0_0x4763da._0x31cc1e)]['display']='block',modal[_0x246368(0x18f)]['remove'](_0x246368(0x14e)),numInput[_0x246368(a0_0x4763da._0x35d160)]();}function openNew(_0x3f5c55,_0x144d67){const a0_0x32e77f={_0x390d41:0x17c,_0x9cd8ae:0x1c2,_0x547028:0x1dd,_0x2b04e4:0x1d5,_0x412010:0x18f,_0x19f7af:0x14e,_0x3e1ab8:0x17e},_0x4df78e=a0_0x22bb5d;editId=null,newPos={'x':_0x3f5c55,'y':_0x144d67},nameInput[_0x4df78e(a0_0x32e77f._0x390d41)]='',numInput[_0x4df78e(0x17c)]='',isVertical?selectColor(_0x144d67<0x32?'red':_0x4df78e(a0_0x32e77f._0x9cd8ae)):selectColor(_0x3f5c55>0x32?_0x4df78e(a0_0x32e77f._0x547028):'blue'),deleteBtn['style'][_0x4df78e(0x167)]=_0x4df78e(a0_0x32e77f._0x2b04e4),modal[_0x4df78e(a0_0x32e77f._0x412010)][_0x4df78e(0x1a4)](_0x4df78e(a0_0x32e77f._0x19f7af)),numInput[_0x4df78e(a0_0x32e77f._0x3e1ab8)]();}function createPlayer(_0x58df6c){const a0_0x3a4d59={_0x3d4afa:0x1c6,_0x1818d3:0x140,_0x3e7df4:0x185,_0x50495c:0x15b,_0xc17e76:0x186,_0x295247:0x180,_0x3dae2f:0x181,_0x4d669a:0x188,_0xfb0a2:0x16f,_0x40736f:0x195},a0_0xbb6a12={_0xf6c376:0x183},_0x513fc1=a0_0x22bb5d,_0x3b0164=document[_0x513fc1(0x181)](_0x513fc1(0x174));_0x3b0164[_0x513fc1(a0_0x3a4d59._0x3d4afa)]=_0x513fc1(a0_0x3a4d59._0x1818d3);_0x58df6c[_0x513fc1(a0_0x3a4d59._0x3e7df4)]&&_0x3b0164['classList']['add'](_0x513fc1(0x1e7),_0x58df6c[_0x513fc1(a0_0x3a4d59._0x3e7df4)]);_0x3b0164[_0x513fc1(a0_0x3a4d59._0x50495c)][_0x513fc1(0x147)]=parseFloat(_0x58df6c['x'])[_0x513fc1(a0_0x3a4d59._0xc17e76)](0x1)+'%',_0x3b0164[_0x513fc1(0x15b)][_0x513fc1(a0_0x3a4d59._0x295247)]=parseFloat(_0x58df6c['y'])[_0x513fc1(a0_0x3a4d59._0xc17e76)](0x1)+'%',_0x3b0164['dataset']['id']=_0x58df6c['id'],_0x3b0164['style'][_0x513fc1(0x14f)]='10';const _0x448a2c=document[_0x513fc1(a0_0x3a4d59._0x3dae2f)](_0x513fc1(0x174));_0x448a2c[_0x513fc1(0x16c)]=_0x58df6c[_0x513fc1(0x14b)],_0x3b0164['appendChild'](_0x448a2c);if(_0x58df6c[_0x513fc1(a0_0x3a4d59._0x4d669a)]){const _0x5e8599=document['createElement'](_0x513fc1(0x174));_0x5e8599[_0x513fc1(0x1c6)]='name',_0x5e8599['textContent']=_0x58df6c[_0x513fc1(0x188)],_0x3b0164[_0x513fc1(a0_0x3a4d59._0xfb0a2)](_0x5e8599);}_0x3b0164['addEventListener'](_0x513fc1(0x13f),startDrag),_0x3b0164[_0x513fc1(0x1c4)](_0x513fc1(a0_0x3a4d59._0x40736f),_0x2e2a39=>{const _0x30d92d=_0x513fc1;_0x2e2a39[_0x30d92d(a0_0xbb6a12._0xf6c376)](),openEdit(_0x58df6c['id']);}),field[_0x513fc1(0x16f)](_0x3b0164);}field[a0_0x22bb5d(0x1c4)]('dblclick',_0x588666=>{const a0_0x42d22c={_0x255ae:0x172,_0x5bc6db:0x18c,_0x43731d:0x147,_0x3b07ed:0x199,_0x492587:0x186},_0x42c357=a0_0x22bb5d;if(_0x588666['target'][_0x42c357(0x139)](_0x42c357(0x194)))return;const _0x12f3ab=field[_0x42c357(a0_0x42d22c._0x255ae)](),_0x3cc7c1=parseFloat(((_0x588666[_0x42c357(a0_0x42d22c._0x5bc6db)]-_0x12f3ab[_0x42c357(a0_0x42d22c._0x43731d)])/_0x12f3ab[_0x42c357(0x163)]*0x64)['toFixed'](0x1)),_0x44527d=parseFloat(((_0x588666[_0x42c357(a0_0x42d22c._0x3b07ed)]-_0x12f3ab[_0x42c357(0x180)])/_0x12f3ab['height']*0x64)[_0x42c357(a0_0x42d22c._0x492587)](0x1));openNew(_0x3cc7c1,_0x44527d);}),field[a0_0x22bb5d(0x1c4)](a0_0x22bb5d(0x15a),_0x365a8d=>{const a0_0x316803={_0x490633:0x139,_0x58c777:0x1dc,_0x12be18:0x18c,_0x5ad17b:0x199,_0x25d417:0x180,_0x4f1bbb:0x19a,_0x4e71d5:0x186},_0x2725e9=a0_0x22bb5d;if(_0x365a8d['pointerType']!==_0x2725e9(0x193))return;if(_0x365a8d['target'][_0x2725e9(a0_0x316803._0x490633)]('.piece'))return;const _0x27e4da=field[_0x2725e9(0x172)](),_0x3eef80=Date[_0x2725e9(a0_0x316803._0x58c777)]();if(_0x3eef80-fieldLastTap<0x12c){const _0x557363=parseFloat(((_0x365a8d[_0x2725e9(a0_0x316803._0x12be18)]-_0x27e4da['left'])/_0x27e4da[_0x2725e9(0x163)]*0x64)[_0x2725e9(0x186)](0x1)),_0x5a6f36=parseFloat(((_0x365a8d[_0x2725e9(a0_0x316803._0x5ad17b)]-_0x27e4da[_0x2725e9(a0_0x316803._0x25d417)])/_0x27e4da[_0x2725e9(a0_0x316803._0x4f1bbb)]*0x64)[_0x2725e9(a0_0x316803._0x4e71d5)](0x1));openNew(_0x557363,_0x5a6f36),fieldLastTap=0x0;}else fieldLastTap=_0x3eef80;}),field[a0_0x22bb5d(0x1c4)]('touchstart',_0x48e90b=>{},{'passive':!![]}),field[a0_0x22bb5d(0x1c4)](a0_0x22bb5d(0x17f),_0x33578d=>{const _0xc431ee=a0_0x22bb5d;if(dragTarget)return _0x33578d[_0xc431ee(0x198)](),![];});function startDrag(_0x350a2e){const a0_0x30ef3a={_0x1718ab:0x1dc,_0x13ceb1:0x15b,_0x15ee79:0x193,_0x4d4b7f:0x156,_0x4a2701:0x18c,_0xf8a35a:0x19a,_0x78a26d:0x1c4,_0xbb4a29:0x168},_0x49b95f=a0_0x22bb5d;if(_0x350a2e[_0x49b95f(0x1db)]&&_0x350a2e['touches'][_0x49b95f(0x162)]>0x1)return;dragTarget=_0x350a2e[_0x49b95f(0x1d1)]['closest'](_0x49b95f(0x194));if(!dragTarget)return;pointerMoved=![],pressStart=Date[_0x49b95f(a0_0x30ef3a._0x1718ab)](),dragTarget['style'][_0x49b95f(0x15d)]=_0x49b95f(0x15c),dragTarget[_0x49b95f(a0_0x30ef3a._0x13ceb1)][_0x49b95f(0x14f)]=_0x49b95f(0x1df);if(_0x350a2e[_0x49b95f(0x1d2)]===_0x49b95f(a0_0x30ef3a._0x15ee79)){}else dragTarget[_0x49b95f(a0_0x30ef3a._0x4d4b7f)](_0x350a2e[_0x49b95f(0x19c)]);const _0x3e105d=field[_0x49b95f(0x172)](),_0x305262=parseFloat(dragTarget[_0x49b95f(a0_0x30ef3a._0x13ceb1)]['left'])||0x0,_0x475eeb=parseFloat(dragTarget[_0x49b95f(a0_0x30ef3a._0x13ceb1)]['top'])||0x0;offsetX=(_0x350a2e[_0x49b95f(a0_0x30ef3a._0x4a2701)]-_0x3e105d['left'])/_0x3e105d[_0x49b95f(0x163)]*0x64-_0x305262,offsetY=(_0x350a2e['clientY']-_0x3e105d['top'])/_0x3e105d[_0x49b95f(a0_0x30ef3a._0xf8a35a)]*0x64-_0x475eeb,dragTarget[_0x49b95f(a0_0x30ef3a._0x78a26d)](_0x49b95f(a0_0x30ef3a._0xbb4a29),onMove),dragTarget[_0x49b95f(0x1c4)](_0x49b95f(0x15a),endDrag),dragTarget[_0x49b95f(0x1c4)](_0x49b95f(0x1e6),endDrag);}function onMove(_0x25d4ea){const a0_0x5f1a14={_0x1a868f:0x1db,_0x2db2b1:0x172,_0x51f92f:0x180,_0x54b88c:0x1cf,_0x53ade9:0x180,_0x1e78f4:0x16d,_0x527d08:0x189,_0x5f3e57:0x198},_0x331983=a0_0x22bb5d;if(_0x25d4ea[_0x331983(a0_0x5f1a14._0x1a868f)]&&_0x25d4ea[_0x331983(0x1db)]['length']>0x1){endDrag(_0x25d4ea);return;}if(!dragTarget)return;pointerMoved=!![];const _0x5c62ad=field[_0x331983(a0_0x5f1a14._0x2db2b1)](),_0x5bcd3a=parseFloat(((_0x25d4ea[_0x331983(0x18c)]-_0x5c62ad[_0x331983(0x147)])/_0x5c62ad['width']*0x64-offsetX)['toFixed'](0x1)),_0x599fae=parseFloat(((_0x25d4ea['clientY']-_0x5c62ad[_0x331983(a0_0x5f1a14._0x51f92f)])/_0x5c62ad[_0x331983(0x19a)]*0x64-offsetY)[_0x331983(0x186)](0x1));dragTarget['style'][_0x331983(0x147)]=Math['min'](0x64,Math[_0x331983(a0_0x5f1a14._0x54b88c)](0x0,_0x5bcd3a))+'%',dragTarget[_0x331983(0x15b)][_0x331983(a0_0x5f1a14._0x53ade9)]=Math[_0x331983(a0_0x5f1a14._0x1e78f4)](0x64,Math['max'](0x0,_0x599fae))+'%',_0x25d4ea['pointerType']!=='touch'&&_0x25d4ea[_0x331983(a0_0x5f1a14._0x527d08)]&&_0x25d4ea[_0x331983(a0_0x5f1a14._0x5f3e57)]();}function endDrag(_0x442ec6){const a0_0x4f0e3f={_0x2392ba:0x1dc,_0x2882be:0x15b,_0x3a6743:0x15d,_0x76891a:0x161,_0x6912d9:0x1e6,_0x1c26b1:0x1c1,_0xa23947:0x155,_0x2ca088:0x180,_0x11bd3b:0x186},_0x26be4f=a0_0x22bb5d;if(!dragTarget)return;const _0x3e8588=Date[_0x26be4f(a0_0x4f0e3f._0x2392ba)](),_0x2a3532=_0x3e8588-pressStart;dragTarget[_0x26be4f(a0_0x4f0e3f._0x2882be)][_0x26be4f(a0_0x4f0e3f._0x3a6743)]='1',dragTarget[_0x26be4f(a0_0x4f0e3f._0x2882be)][_0x26be4f(0x14f)]='10',dragTarget['removeEventListener']('pointermove',onMove),dragTarget[_0x26be4f(a0_0x4f0e3f._0x76891a)](_0x26be4f(0x15a),endDrag),dragTarget[_0x26be4f(0x161)](_0x26be4f(a0_0x4f0e3f._0x6912d9),endDrag);const _0x1f3ef4=dragTarget[_0x26be4f(a0_0x4f0e3f._0x1c26b1)]['id'];if(!pointerMoved){if(_0x2a3532>0x258){openEdit(_0x1f3ef4),dragTarget=null;return;}else _0x3e8588-lastTap<0x12c&&openEdit(_0x1f3ef4),lastTap=_0x3e8588;}else{if(_0x1f3ef4){const _0x32a9fb=state[_0x26be4f(0x144)][_0x26be4f(a0_0x4f0e3f._0xa23947)](_0x3f1710=>_0x3f1710['id']==_0x1f3ef4);_0x32a9fb&&(_0x32a9fb['x']=parseFloat(parseFloat(dragTarget[_0x26be4f(0x15b)][_0x26be4f(0x147)])[_0x26be4f(0x186)](0x1)),_0x32a9fb['y']=parseFloat(parseFloat(dragTarget[_0x26be4f(0x15b)][_0x26be4f(a0_0x4f0e3f._0x2ca088)])[_0x26be4f(a0_0x4f0e3f._0x11bd3b)](0x1))),saveState();}}dragTarget=null;}function removePlayer(_0x551424){const a0_0x4bf0ea={_0x377193:0x144},_0xbe4072=a0_0x22bb5d,_0x4fb57d=state[_0xbe4072(a0_0x4bf0ea._0x377193)][_0xbe4072(0x1cd)](_0xaea46a=>_0xaea46a['id']==_0x551424);_0x4fb57d>=0x0&&state[_0xbe4072(a0_0x4bf0ea._0x377193)]['splice'](_0x4fb57d,0x1);const _0x397489=document['querySelector'](_0xbe4072(0x1e0)+_0x551424+'\x22]');if(_0x397489)_0x397489[_0xbe4072(0x1a4)]();saveState();}function applyPreset(_0x2e0ff1){const a0_0x490dab={_0xaecf3f:0x1c2,_0x5d3d68:0x1d9,_0x1f7ad9:0x1be,_0x24e409:0x187,_0x59af8a:0x1b9,_0x2ac1d4:0x144,_0x5ebdfa:0x1bf,_0x46c510:0x144,_0x821c2c:0x164},_0x212aad=a0_0x22bb5d;defaultPlayers();const _0x12e1bc={'color':_0x212aad(0x142),'x':0x32,'y':0x32,'num':''},_0x2c1c65=[{'color':_0x212aad(0x1c2),'num':'','x':0x2,'y':96.5},{'color':_0x212aad(0x1c2),'num':'','x':0x6,'y':96.5},{'color':_0x212aad(a0_0x490dab._0xaecf3f),'num':'','x':0xa,'y':96.5}],_0x423c50=[{'color':_0x212aad(0x1dd),'num':'','x':0x5a,'y':96.5},{'color':'red','num':'','x':0x5e,'y':96.5},{'color':'red','num':'','x':0x62,'y':96.5}];let _0x1b39ab=[];switch(_0x2e0ff1){case _0x212aad(a0_0x490dab._0x5d3d68):_0x1b39ab=[];break;case _0x212aad(0x184):_0x1b39ab=[...state[_0x212aad(0x184)],_0x12e1bc];break;case'full':_0x1b39ab=[...state[_0x212aad(0x184)],...state[_0x212aad(0x1e1)],_0x12e1bc];break;case _0x212aad(a0_0x490dab._0x1f7ad9):_0x1b39ab=[...state['teammate8'],..._0x2c1c65,_0x12e1bc];break;case _0x212aad(0x178):_0x1b39ab=[...state[_0x212aad(a0_0x490dab._0x1f7ad9)],...state[_0x212aad(a0_0x490dab._0x24e409)],..._0x2c1c65,..._0x423c50,_0x12e1bc];break;case _0x212aad(0x1b9):_0x1b39ab=[...state[_0x212aad(0x1b9)],..._0x2c1c65,_0x12e1bc];break;case _0x212aad(0x17b):_0x1b39ab=[...state[_0x212aad(a0_0x490dab._0x59af8a)],...state[_0x212aad(0x1a7)],..._0x2c1c65,..._0x423c50,_0x12e1bc];break;default:return;}state[_0x212aad(a0_0x490dab._0x2ac1d4)]=_0x1b39ab[_0x212aad(0x1c9)]((_0x1e9538,_0x5cc741)=>({..._0x1e9538,'id':(_0x5cc741+0x1)[_0x212aad(0x160)]()})),field[_0x212aad(a0_0x490dab._0x5ebdfa)]('.piece')[_0x212aad(0x164)](_0xe8145e=>_0xe8145e['remove']()),isVertical&&state[_0x212aad(a0_0x490dab._0x46c510)][_0x212aad(a0_0x490dab._0x821c2c)](_0x5adc83=>{const _0x949b0a=_0x5adc83['x'],_0x3cf657=_0x5adc83['y'];_0x5adc83['x']=_0x3cf657,_0x5adc83['y']=0x64-_0x949b0a;}),state['players']['forEach'](createPlayer),saveState();}const playerForm=document[a0_0x22bb5d(0x17a)]('player-form');playerForm[a0_0x22bb5d(0x1c4)]('submit',_0xf263b2=>{const a0_0x12127d={_0x432d42:0x198},_0x374860=a0_0x22bb5d;_0xf263b2[_0x374860(a0_0x12127d._0x432d42)](),savePlayer();}),document[a0_0x22bb5d(0x1c4)](a0_0x22bb5d(0x19f),_0x18682e=>{const a0_0x4e12ae={_0x2239db:0x1c3,_0x45e694:0x1c0,_0x3af3bd:0x14e},_0x3c5f39=a0_0x22bb5d;_0x18682e[_0x3c5f39(a0_0x4e12ae._0x2239db)]===_0x3c5f39(0x1ca)&&editId&&!modal[_0x3c5f39(0x18f)][_0x3c5f39(a0_0x4e12ae._0x45e694)]('hidden')&&(removePlayer(editId),modal[_0x3c5f39(0x18f)]['add'](_0x3c5f39(a0_0x4e12ae._0x3af3bd)),editId=null);});function savePlayer(){const a0_0x106113={_0xe1c477:0x1c1,_0xd7f4d0:0x17c,_0x1cca94:0x155,_0x320193:0x185,_0x4326c4:0x1b0,_0xce4799:0x1e0,_0x5c95ce:0x1c6,_0x17a6a6:0x174,_0x40ff8e:0x16c,_0x4ed8a2:0x144,_0x5252ff:0x162,_0x597fae:0x1ad,_0x1b4c5e:0x14e},_0x3b5a19=a0_0x22bb5d,_0x45a6fc=colorOpts[_0x3b5a19(0x155)](_0x3f823a=>_0x3f823a['classList']['contains'](_0x3b5a19(0x1ce)))[_0x3b5a19(a0_0x106113._0xe1c477)]['color'];let _0x4117b5=numInput[_0x3b5a19(a0_0x106113._0xd7f4d0)]===''?'':parseInt(numInput[_0x3b5a19(a0_0x106113._0xd7f4d0)])||0x0;if(_0x4117b5!==''&&_0x4117b5>0x3e7)_0x4117b5=0x3e7;if(editId){const _0x5105df=state[_0x3b5a19(0x144)][_0x3b5a19(a0_0x106113._0x1cca94)](_0x3d2416=>_0x3d2416['id']==editId);if(_0x5105df){_0x5105df[_0x3b5a19(0x188)]=nameInput[_0x3b5a19(0x17c)],_0x5105df['num']=_0x4117b5,_0x5105df[_0x3b5a19(a0_0x106113._0x320193)]=_0x45a6fc;const _0x33094d=document[_0x3b5a19(a0_0x106113._0x4326c4)](_0x3b5a19(a0_0x106113._0xce4799)+editId+'\x22]');if(_0x33094d){_0x33094d[_0x3b5a19(a0_0x106113._0x5c95ce)]=_0x3b5a19(0x140);_0x45a6fc&&_0x33094d['classList'][_0x3b5a19(0x1d7)]('player',_0x45a6fc);_0x33094d[_0x3b5a19(0x150)]='';const _0x90a79e=document[_0x3b5a19(0x181)](_0x3b5a19(0x174));_0x90a79e['textContent']=_0x4117b5,_0x33094d[_0x3b5a19(0x16f)](_0x90a79e);if(nameInput[_0x3b5a19(a0_0x106113._0xd7f4d0)]){const _0x35c445=document['createElement'](_0x3b5a19(a0_0x106113._0x17a6a6));_0x35c445[_0x3b5a19(0x1c6)]=_0x3b5a19(0x188),_0x35c445[_0x3b5a19(a0_0x106113._0x40ff8e)]=nameInput[_0x3b5a19(0x17c)],_0x33094d['appendChild'](_0x35c445);}}}}else{if(newPos){const _0x330b53=state[_0x3b5a19(a0_0x106113._0x4ed8a2)][_0x3b5a19(a0_0x106113._0x5252ff)]>0x0?Math[_0x3b5a19(0x1cf)](...state[_0x3b5a19(0x144)]['map'](_0x66e1f8=>parseInt(_0x66e1f8['id'])||0x0)):0x0,_0x203018={'id':(_0x330b53+0x1)['toString'](),'name':nameInput[_0x3b5a19(a0_0x106113._0xd7f4d0)],'num':_0x4117b5,'color':_0x45a6fc,'x':newPos['x'],'y':newPos['y']};state[_0x3b5a19(0x144)][_0x3b5a19(a0_0x106113._0x597fae)](_0x203018),createPlayer(_0x203018);}}modal[_0x3b5a19(0x18f)][_0x3b5a19(0x1d7)](_0x3b5a19(a0_0x106113._0x1b4c5e)),editId=null,newPos=null,saveState();}saveBtn[a0_0x22bb5d(0x1c4)](a0_0x22bb5d(0x1aa),function(_0x31bef7){const a0_0x4826ee={_0x5f0ebb:0x175},_0x1c199b=a0_0x22bb5d;!_0x31bef7['target'][_0x1c199b(a0_0x4826ee._0x5f0ebb)]&&(_0x31bef7[_0x1c199b(0x198)](),savePlayer());}),deleteBtn['addEventListener'](a0_0x22bb5d(0x1aa),()=>{const a0_0x22fd22={_0x1e53de:0x1d7},_0x370ac8=a0_0x22bb5d;editId&&(removePlayer(editId),modal[_0x370ac8(0x18f)][_0x370ac8(a0_0x22fd22._0x1e53de)]('hidden'),editId=null);});function toBase36(_0x5c0a6d){const _0x15e664=a0_0x22bb5d,_0x479b70='0123456789abcdefghijklmnopqrstuvwxyz';if(_0x5c0a6d===0x0)return'00';let _0x53e067='';while(_0x5c0a6d>0x0){_0x53e067=_0x479b70[_0x5c0a6d%0x24]+_0x53e067,_0x5c0a6d=Math[_0x15e664(0x19e)](_0x5c0a6d/0x24);}return _0x53e067[_0x15e664(0x1a9)](0x2,'0');}function fromBase36(_0x583153){const _0x3d8c68=a0_0x22bb5d,_0x10f7e2='0123456789abcdefghijklmnopqrstuvwxyz';let _0x4c3077=0x0;for(let _0x1d7fa5=0x0;_0x1d7fa5<_0x583153[_0x3d8c68(0x162)];_0x1d7fa5++){const _0x1dd2b2=_0x583153[_0x1d7fa5],_0xd0271e=_0x10f7e2['indexOf'](_0x1dd2b2);if(_0xd0271e===-0x1)return 0x0;_0x4c3077=_0x4c3077*0x24+_0xd0271e;}return _0x4c3077;}function saveState(){const a0_0x21283f={_0x83cb9b:0x164,_0x142bd6:0x1ac,_0x476f77:0x1c5},a0_0x5a87fe={_0x16f487:0x185,_0xacb294:0x1dd,_0x480e99:0x185,_0x4178b0:0x14b,_0x329854:0x14b,_0x210d3e:0x188},_0x5a1416=a0_0x22bb5d;let _0x3ad547='';state['players'][_0x5a1416(a0_0x21283f._0x83cb9b)]((_0x2f9013,_0x50d581)=>{const _0x11aac1=_0x5a1416;let _0x3b1ac6=_0x2f9013['x'],_0x6d19fc=_0x2f9013['y'];isVertical&&(_0x3b1ac6=0x64-_0x2f9013['y'],_0x6d19fc=_0x2f9013['x']);const _0x35b36b=Math[_0x11aac1(0x1b8)](_0x3b1ac6*0xa),_0x49542e=Math['round'](_0x6d19fc*0xa);let _0x3b385b='';if(_0x2f9013[_0x11aac1(a0_0x5a87fe._0x16f487)]===_0x11aac1(0x142))_0x3b385b='B';else{if(_0x2f9013[_0x11aac1(0x185)]===_0x11aac1(a0_0x5a87fe._0xacb294))_0x3b385b='C';else{if(_0x2f9013[_0x11aac1(0x185)]==='yellow')_0x3b385b='D';else _0x2f9013[_0x11aac1(a0_0x5a87fe._0x480e99)]==='green'&&(_0x3b385b='E');}}const _0x6e002=toBase36(_0x35b36b),_0x979424=toBase36(_0x49542e);_0x3ad547+=''+_0x3b385b+_0x6e002+_0x979424,_0x2f9013[_0x11aac1(a0_0x5a87fe._0x4178b0)]!==undefined&&_0x2f9013[_0x11aac1(a0_0x5a87fe._0x329854)]!==''&&(_0x3ad547+='Z'+_0x2f9013[_0x11aac1(0x14b)]),_0x2f9013[_0x11aac1(a0_0x5a87fe._0x210d3e)]&&(_0x3ad547+='Y'+_0x2f9013['name']),_0x50d581<state[_0x11aac1(0x144)][_0x11aac1(0x162)]-0x1&&(_0x3ad547+=',');});const _0x2785d1=LZString['compressToEncodedURIComponent'](_0x3ad547),_0xf89612=new URL(window[_0x5a1416(a0_0x21283f._0x142bd6)]);history[_0x5a1416(0x149)](null,'',_0x5a1416(a0_0x21283f._0x476f77)+_0x2785d1);}function loadState(){const a0_0x125fef={_0x51d40b:0x154,_0x6bd05:0x18e,_0x33a09f:0x144,_0x130e81:0x1bc,_0x43f457:0x1bf},a0_0x50acf6={_0x4f093b:0x1c2,_0x55dccd:0x142,_0x317e88:0x1dd,_0x42496e:0x18b,_0x5a24b0:0x162,_0x13044c:0x1b3,_0x5f291b:0x1b3},_0x3c67b8=a0_0x22bb5d,_0x2547d5=new URLSearchParams(location[_0x3c67b8(a0_0x125fef._0x51d40b)]);if(_0x2547d5[_0x3c67b8(a0_0x125fef._0x6bd05)]('q'))try{const _0x5b3224=_0x2547d5[_0x3c67b8(0x1a0)]('q'),_0x21f386=LZString['decompressFromEncodedURIComponent'](_0x5b3224);if(!_0x21f386)throw new Error(_0x3c67b8(0x190));const _0x375cb5=_0x21f386['split'](',');state[_0x3c67b8(a0_0x125fef._0x33a09f)]=_0x375cb5[_0x3c67b8(0x1c9)]((_0x40c577,_0x159f98)=>{const _0x4328a4=_0x3c67b8;if(!_0x40c577['trim']())return null;let _0x192d61=0x0,_0x5a9374=_0x4328a4(a0_0x50acf6._0x4f093b);if(_0x40c577['length']>0x0&&/^[A-Z]/['test'](_0x40c577[0x0])){const _0x4316b8=_0x40c577[0x0];_0x192d61=0x1;if(_0x4316b8==='B')_0x5a9374=_0x4328a4(a0_0x50acf6._0x55dccd);else{if(_0x4316b8==='C')_0x5a9374=_0x4328a4(a0_0x50acf6._0x317e88);else{if(_0x4316b8==='D')_0x5a9374='yellow';else _0x4316b8==='E'&&(_0x5a9374=_0x4328a4(a0_0x50acf6._0x42496e));}}}if(_0x40c577[_0x4328a4(a0_0x50acf6._0x5a24b0)]<_0x192d61+0x4)return null;const _0x2abcbe=_0x40c577[_0x4328a4(0x1b3)](_0x192d61,0x2),_0x6a07ac=_0x40c577[_0x4328a4(a0_0x50acf6._0x13044c)](_0x192d61+0x2,0x2),_0x306d95=fromBase36(_0x2abcbe),_0x2228cc=fromBase36(_0x6a07ac),_0x20b66b={'id':(_0x159f98+0x1)[_0x4328a4(0x160)](),'color':_0x5a9374,'x':_0x306d95/0xa,'y':_0x2228cc/0xa,'num':''};let _0x1e7f7d=_0x40c577[_0x4328a4(a0_0x50acf6._0x5f291b)](_0x192d61+0x4);const _0x5e2f8b=_0x1e7f7d['indexOf']('Z');if(_0x5e2f8b===0x0){const _0x9fb89b=_0x1e7f7d[_0x4328a4(0x146)]('Y');if(_0x9fb89b>0x1)_0x20b66b['num']=_0x1e7f7d[_0x4328a4(0x152)](0x1,_0x9fb89b),_0x20b66b['name']=_0x1e7f7d[_0x4328a4(0x152)](_0x9fb89b+0x1);else _0x9fb89b===-0x1&&(_0x20b66b[_0x4328a4(0x14b)]=_0x1e7f7d['substring'](0x1));}else{const _0x3f50f8=_0x1e7f7d[_0x4328a4(0x146)]('Y');_0x3f50f8===0x0&&(_0x20b66b[_0x4328a4(0x188)]=_0x1e7f7d[_0x4328a4(0x152)](0x1));}return _0x20b66b;})[_0x3c67b8(0x16a)](_0x5c6484=>_0x5c6484!==null);}catch(_0x585384){console[_0x3c67b8(a0_0x125fef._0x130e81)](_0x3c67b8(0x18d),_0x585384),state['players']=defaultPlayers();}else state['players']=defaultPlayers();field[_0x3c67b8(a0_0x125fef._0x43f457)](_0x3c67b8(0x194))['forEach'](_0x36342a=>_0x36342a[_0x3c67b8(0x1a4)]()),state[_0x3c67b8(a0_0x125fef._0x33a09f)][_0x3c67b8(0x164)](createPlayer);}function showToast(_0x4587fc,_0x2a458b=0x7d0){const a0_0x2b20da={_0x5cfe52:0x1d7},_0x9a1887=a0_0x22bb5d,_0x1b5118=document[_0x9a1887(0x17a)](_0x9a1887(0x13c));_0x1b5118[_0x9a1887(0x16c)]=_0x4587fc,_0x1b5118[_0x9a1887(0x18f)][_0x9a1887(a0_0x2b20da._0x5cfe52)](_0x9a1887(0x1a6)),setTimeout(()=>{const _0x4322e7=_0x9a1887;_0x1b5118[_0x4322e7(0x18f)][_0x4322e7(0x1a4)](_0x4322e7(0x1a6));},_0x2a458b);}function getShareUrl(){const _0x24798c=a0_0x22bb5d;return location[_0x24798c(0x13b)];}shareTwitterBtn['addEventListener'](a0_0x22bb5d(0x1aa),()=>{const a0_0x382f1b={_0x5586e9:0x151,_0x38b785:0x1d8,_0x4adfa1:0x182,_0x2301e6:0x1d7,_0x512f3c:0x14e},_0x16acaf=a0_0x22bb5d,_0x1fea9f=getShareUrl(),_0x14737a=_0x16acaf(0x173),_0x30f6e7=_0x16acaf(a0_0x382f1b._0x5586e9)+encodeURIComponent(_0x14737a)+_0x16acaf(0x17d)+encodeURIComponent(_0x1fea9f);window[_0x16acaf(a0_0x382f1b._0x38b785)](_0x30f6e7,_0x16acaf(a0_0x382f1b._0x4adfa1)),shareModal[_0x16acaf(0x18f)][_0x16acaf(a0_0x382f1b._0x2301e6)](_0x16acaf(a0_0x382f1b._0x512f3c));}),shareFacebookBtn[a0_0x22bb5d(0x1c4)](a0_0x22bb5d(0x1aa),()=>{const a0_0x2394b3={_0x319c7c:0x1e5,_0x2146f5:0x182,_0xf075b7:0x1d7},_0x22bad9=a0_0x22bb5d,_0x196ef0=getShareUrl(),_0x3f5ec7=_0x22bad9(a0_0x2394b3._0x319c7c)+encodeURIComponent(_0x196ef0);window[_0x22bad9(0x1d8)](_0x3f5ec7,_0x22bad9(a0_0x2394b3._0x2146f5)),shareModal['classList'][_0x22bad9(a0_0x2394b3._0xf075b7)](_0x22bad9(0x14e));}),shareLineBtn[a0_0x22bb5d(0x1c4)]('click',()=>{const a0_0xe92a84={_0x2d3203:0x1a5},_0x161092=a0_0x22bb5d,_0xb2885c=getShareUrl(),_0x303bb3=_0x161092(a0_0xe92a84._0x2d3203)+encodeURIComponent(_0xb2885c);window[_0x161092(0x1d8)](_0x303bb3,'_blank'),shareModal[_0x161092(0x18f)][_0x161092(0x1d7)](_0x161092(0x14e));}),shareBtn[a0_0x22bb5d(0x1c4)](a0_0x22bb5d(0x1aa),()=>shareModal['classList'][a0_0x22bb5d(0x1a4)](a0_0x22bb5d(0x14e))),shareNativeBtn[a0_0x22bb5d(0x1c4)](a0_0x22bb5d(0x1aa),()=>{const a0_0x364961={_0x36f514:0x1de,_0x39dde6:0x1a1},a0_0x1f83a1={_0x305935:0x18f,_0x4ef8df:0x1d7},a0_0x4ab919={_0x15be1e:0x148},a0_0x16c96b={_0x4fe6eb:0x16e},_0x1f4892=a0_0x22bb5d,_0x1ec733=getShareUrl();navigator[_0x1f4892(0x13e)]?navigator['share']({'title':document[_0x1f4892(0x1b2)],'url':_0x1ec733})[_0x1f4892(a0_0x364961._0x36f514)](()=>{const _0x3e8dd7=_0x1f4892;showToast(getNestedTranslation(_0x3e8dd7(0x1e4))||_0x3e8dd7(a0_0x16c96b._0x4fe6eb));})[_0x1f4892(0x16b)](_0x1a09c9=>{const _0x12bcf5=_0x1f4892;console['error'](_0x12bcf5(a0_0x4ab919._0x15be1e),_0x1a09c9);}):navigator['clipboard'][_0x1f4892(a0_0x364961._0x39dde6)](_0x1ec733)['then'](()=>{const _0x4c0eae=_0x1f4892;shareModal[_0x4c0eae(a0_0x1f83a1._0x305935)][_0x4c0eae(a0_0x1f83a1._0x4ef8df)](_0x4c0eae(0x14e)),showToast(getNestedTranslation(_0x4c0eae(0x1b7))||'URL\x20Copied');})['catch'](()=>{const _0x768078=_0x1f4892;shareModal['classList']['add'](_0x768078(0x14e)),showToast('Copy\x20failed');});}),shareCopyBtn[a0_0x22bb5d(0x1c4)](a0_0x22bb5d(0x1aa),async()=>{const a0_0x4aa98f={_0x40f6b9:0x1a1,_0x50ce73:0x1b7,_0x17e623:0x1d0,_0x23ac9b:0x1d7},_0x401810=a0_0x22bb5d;try{await navigator['clipboard'][_0x401810(a0_0x4aa98f._0x40f6b9)](getShareUrl()),shareModal[_0x401810(0x18f)][_0x401810(0x1d7)](_0x401810(0x14e)),showToast(getNestedTranslation(_0x401810(a0_0x4aa98f._0x50ce73))||_0x401810(a0_0x4aa98f._0x17e623));}catch(_0x105a06){shareModal['classList'][_0x401810(a0_0x4aa98f._0x23ac9b)](_0x401810(0x14e)),showToast('Copy\x20failed');}}),presetBtn['addEventListener'](a0_0x22bb5d(0x1aa),()=>presetModal[a0_0x22bb5d(0x18f)][a0_0x22bb5d(0x1a4)](a0_0x22bb5d(0x14e))),presetBtns[a0_0x22bb5d(0x164)](_0x531947=>_0x531947[a0_0x22bb5d(0x1c4)](a0_0x22bb5d(0x1aa),()=>{const a0_0x1220d5={_0x55887b:0x18f},_0xedb062=a0_0x22bb5d;applyPreset(_0x531947['dataset'][_0xedb062(0x15f)]),presetModal[_0xedb062(a0_0x1220d5._0x55887b)]['add'](_0xedb062(0x14e));})),helpBtn[a0_0x22bb5d(0x1c4)](a0_0x22bb5d(0x1aa),()=>helpModal[a0_0x22bb5d(0x18f)][a0_0x22bb5d(0x1a4)](a0_0x22bb5d(0x14e))),rotateBtn[a0_0x22bb5d(0x1c4)]('click',()=>{const a0_0x4b0260={_0x44eefe:0x18a},_0x55466f=a0_0x22bb5d;toggleFieldOrientation(),localStorage[_0x55466f(a0_0x4b0260._0x44eefe)](STORAGE_KEY_USER_ORIENTATION,_0x55466f(0x177));});function toggleFieldOrientation(_0x176f9a=null){const a0_0x5e65f5={_0x27c9ed:0x18f,_0x421ef7:0x197,_0x11aaf5:0x1af,_0x21f2e8:0x167,_0x3a8614:0x141,_0x2e3876:0x15b,_0x35da6d:0x167},_0x5d6ce1=a0_0x22bb5d;isVertical=_0x176f9a!==null?_0x176f9a:!isVertical,field[_0x5d6ce1(a0_0x5e65f5._0x27c9ed)][_0x5d6ce1(0x1a2)]('vertical',isVertical);const _0x239b8e=field['querySelector'](_0x5d6ce1(a0_0x5e65f5._0x421ef7)),_0x257fcf=field['querySelector'](_0x5d6ce1(a0_0x5e65f5._0x11aaf5));isVertical?(_0x239b8e['style'][_0x5d6ce1(a0_0x5e65f5._0x21f2e8)]=_0x5d6ce1(0x1d5),_0x257fcf[_0x5d6ce1(0x15b)][_0x5d6ce1(a0_0x5e65f5._0x21f2e8)]=_0x5d6ce1(0x141)):(_0x239b8e[_0x5d6ce1(0x15b)][_0x5d6ce1(0x167)]=_0x5d6ce1(a0_0x5e65f5._0x3a8614),_0x257fcf[_0x5d6ce1(a0_0x5e65f5._0x2e3876)][_0x5d6ce1(a0_0x5e65f5._0x35da6d)]=_0x5d6ce1(0x1d5)),convertPlayerPositions(),localStorage[_0x5d6ce1(0x18a)](STORAGE_KEY_VERTICAL,isVertical);}function convertPlayerPositions(){const a0_0x37938a={_0x567c23:0x164},a0_0x2113bf={_0x134ca1:0x1e0,_0x2b5d62:0x186,_0x19d2c5:0x15b},_0x3a68c3=a0_0x22bb5d;state[_0x3a68c3(0x144)][_0x3a68c3(a0_0x37938a._0x567c23)](_0x1cfb4a=>{const _0x308f50=_0x3a68c3,_0x4af605=_0x1cfb4a['x'],_0x3672b0=_0x1cfb4a['y'];isVertical?(_0x1cfb4a['x']=_0x3672b0,_0x1cfb4a['y']=0x64-_0x4af605):(_0x1cfb4a['x']=0x64-_0x1cfb4a['y'],_0x1cfb4a['y']=_0x4af605);const _0x55b22a=document['querySelector'](_0x308f50(a0_0x2113bf._0x134ca1)+_0x1cfb4a['id']+'\x22]');_0x55b22a&&(_0x55b22a[_0x308f50(0x15b)][_0x308f50(0x147)]=parseFloat(_0x1cfb4a['x'])[_0x308f50(a0_0x2113bf._0x2b5d62)](0x1)+'%',_0x55b22a[_0x308f50(a0_0x2113bf._0x19d2c5)][_0x308f50(0x180)]=parseFloat(_0x1cfb4a['y'])[_0x308f50(0x186)](0x1)+'%');});}function initializeFieldOrientation(){const a0_0x103283={_0x21dc2c:0x1b0,_0x36af95:0x1af,_0x11d6a1:0x1d7,_0x4afb0a:0x1b1,_0x134574:0x1d5,_0x25648e:0x167,_0x4c99d6:0x141,_0x51bff3:0x167},_0x29fb71=a0_0x22bb5d,_0x10c90b=field['querySelector'](_0x29fb71(0x197)),_0x103ac5=field[_0x29fb71(a0_0x103283._0x21dc2c)](_0x29fb71(a0_0x103283._0x36af95));isVertical?(field['classList'][_0x29fb71(a0_0x103283._0x11d6a1)](_0x29fb71(a0_0x103283._0x4afb0a)),_0x10c90b[_0x29fb71(0x15b)][_0x29fb71(0x167)]=_0x29fb71(a0_0x103283._0x134574),_0x103ac5[_0x29fb71(0x15b)][_0x29fb71(0x167)]='block'):(field[_0x29fb71(0x18f)]['remove'](_0x29fb71(a0_0x103283._0x4afb0a)),_0x10c90b['style'][_0x29fb71(a0_0x103283._0x25648e)]=_0x29fb71(a0_0x103283._0x4c99d6),_0x103ac5[_0x29fb71(0x15b)][_0x29fb71(a0_0x103283._0x51bff3)]='none');}initializeFieldOrientation(),loadState();function a0_0x47d0(_0x32505d,_0x30eef3){const _0x1bda6e=a0_0x1bda();return a0_0x47d0=function(_0x47d01f,_0x482b39){_0x47d01f=_0x47d01f-0x138;let _0x4d5c32=_0x1bda6e[_0x47d01f];if(a0_0x47d0['YNfpfW']===undefined){var _0x479b3b=function(_0x438d60){const _0x50a72e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xbf44ab='',_0x49be95='';for(let _0x4d14e3=0x0,_0x37312b,_0x22e562,_0x58195e=0x0;_0x22e562=_0x438d60['charAt'](_0x58195e++);~_0x22e562&&(_0x37312b=_0x4d14e3%0x4?_0x37312b*0x40+_0x22e562:_0x22e562,_0x4d14e3++%0x4)?_0xbf44ab+=String['fromCharCode'](0xff&_0x37312b>>(-0x2*_0x4d14e3&0x6)):0x0){_0x22e562=_0x50a72e['indexOf'](_0x22e562);}for(let _0x11bff2=0x0,_0x3f5a21=_0xbf44ab['length'];_0x11bff2<_0x3f5a21;_0x11bff2++){_0x49be95+='%'+('00'+_0xbf44ab['charCodeAt'](_0x11bff2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x49be95);};a0_0x47d0['PZdXrL']=_0x479b3b,_0x32505d=arguments,a0_0x47d0['YNfpfW']=!![];}const _0x409abe=_0x1bda6e[0x0],_0x311cb4=_0x47d01f+_0x409abe,_0x5c5ce8=_0x32505d[_0x311cb4];return!_0x5c5ce8?(_0x4d5c32=a0_0x47d0['PZdXrL'](_0x4d5c32),_0x32505d[_0x311cb4]=_0x4d5c32):_0x4d5c32=_0x5c5ce8,_0x4d5c32;},a0_0x47d0(_0x32505d,_0x30eef3);}isVertical&&convertPlayerPositions();