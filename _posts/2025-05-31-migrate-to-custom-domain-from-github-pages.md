---
title: "GitHub Pages を独自ドメインへ移行した話"
date: 2025-05-31
categories: [blog]
tags: [github-pages, 独自ドメイン, squarespace, SEO]
---

## はじめに

これまで GitHub Pages のデフォルトドメイン `aoma23.github.io` で運用していたこのブログですが、独自ドメイン `aoma23.com` に移行しました。  
ドメインは Squarespace で購入し、GitHub Pages に接続しています。  
この記事では、その手順や注意点をまとめます。

## 移行の背景

当初は GitHub Pages のデフォルトURLで十分だと思っていましたが、いくつかの理由から独自ドメインへの移行を決めました。

- **Search Console でインデックス未登録が多数**  
  `aoma23.github.io` ドメインでは、Search Console に送信したページの**半数以上がインデックス未登録**という状況が続いていました。  
  明確な理由はわからないものの、`.github.io` ドメインが原因の一端である可能性も否定できず、SEOの観点から改善したいと考えました。

- **AI時代に向けた布石**  
  今後は AI によって「検索しない時代」が来ると言われています。とはいえ、**独自ドメインを持つことは、何らかの形で将来的にも価値が残る可能性が高い**と感じています。たとえば独自ドメインがオンライン上での識別子になったり、サービス連携の鍵になるかもしれません。

- **ホスティング基盤を変えてもドメインがあれば大丈夫**  
  今後、GitHub Pages 以外（例：Cloudflare Pages や Vercel）に移行したくなったとしても、**ドメインが自分のものであれば URL を変える必要はありません**。ドメインを持っているだけで、裏側の自由度が格段に上がります。

## GitHub Pages の設定

1. **リポジトリの設定**:
   - GitHub のリポジトリに移動し、`Settings` > `Pages` を開きます。
   - `Custom domain` に `aoma23.com` を入力し、`Save` をクリックします。
   - `Enforce HTTPS` を有効にします（DNS 設定が正しく行われていれば有効化できます）。

2. **CNAME ファイルの確認**:
   - リポジトリのルートに `CNAME` ファイルが自動生成され、`aoma23.com` が記載されていることを確認します。（自分は最初に手動で作ってしまいましたがw）

3. **リポジトリの公開状態に注意**:
   - GitHub Pages を使うには、**リポジトリを public（公開）にしておく必要があります**。
   - Private（非公開）では GitHub Pages の公開機能は使えません（GitHub Proでも対象外）。

## Squarespace での DNS 設定

1. **DNS 設定の編集**:
   - Squarespace のダッシュボードで、購入したドメインの `DNS Settings` を開きます。
   - 以下のレコードを追加または編集します：

     - **A レコード**（ホスト名：`@`）:
       - `185.199.108.153`
       - `185.199.109.153`
       - `185.199.110.153`
       - `185.199.111.153`

     - **CNAME レコード**（ホスト名：`www`）:
       - `aoma23.github.io`

   これにより、`aoma23.com` と `www.aoma23.com` の両方が GitHub Pages に正しく接続されます。

2. **既存レコードの削除**:
   - Squarespace によって自動生成された既存の A レコードや CNAME レコードがある場合は、削除してください。

## リダイレクトの確認

設定後、`aoma23.github.io` にアクセスすると、自動的に `aoma23.com` にリダイレクトされることを確認できます。  
これは GitHub Pages のカスタムドメイン機能によって行われ、HTTP 301 リダイレクトが適用されます。

また、`http://aoma23.com` にアクセスした場合でも、ブラウザが自動的に `https://aoma23.com` にリダイレクトします。  
これは HSTS（HTTP Strict Transport Security）によるもので、セキュリティ向上のために推奨される挙動です。

## おわりに

今回、以前から興味のあった独自ドメインに変更することができました。  
設定は思っていたより簡単で、やり方もChatGPTに教わってサクッとできました！  
GitHubPagesは無料ですが、今後はドメイン代が毎年かかることになります。  
どうせやるなら思い切ってもっと早くからやるべきだったなとちょっと後悔。。  
でも今日が人生で一番若い日です！  
今後は `aoma23.com` でブログを更新していきますので、引き続きよろしくお願いします！
